<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@5.0.0/dist/aframe-event-set-component.min.js"></script>
    <title>AA3.4 Webpage 3</title>
</head>
<body>
    <!--video controls script-->
    <script>
        AFRAME.registerComponent('play-pause', {
            init: function () {
                var myVideo = document.querySelector('#cinematic');
                var videoControls = document.querySelector('#playControls');
                var textControls = document.querySelector('#controlsText');

                this.el.addEventListener('click', function () {
                    if (myVideo.paused) {
                        myVideo.play();
                        videoControls.setAttribute('src', '#pause');
                        textControls.setAttribute('value', 'PAUSE');
                    }
                    else {
                        myVideo.pause();
                        videoControls.setAttribute('src', '#play');
                        textControls.setAttribute('value', 'PLAY');
                    }
                });
            }
        })
    </script>

    <a-scene>
        <!--image and video assets-->
        <a-assets>
            <img id="sky" src="assets/images/torquoise_sky.png">
            <img id="ground" src="assets/images/concrete.jpg">
            <img id="marble" src="assets/images/marble.jpg">
            <img id="wall" src="assets/images/wall.jpg">
            <img id="wall_texture" src="assets/images/wall_nm.png">
            <img id="ground_texture" src="assets/images/concrete_nm.png">
            <video id="cinematic" src="assets/videos/cinematic.mp4"></video>
            <img id="play" src="assets/images/play.png">
            <img id="pause" src="assets/images/pause.png">
            <img id="logo" src="assets/images/logo.png">
            <img id="icon1" src="assets/images/web.png">
            <img id="icon2" src="assets/images/bt.png">
            <img id="icon3" src="assets/images/settings.png">
            <a-asset-item id="unit" src="/assets/models/tv_unit2/scene.gltf"></a-asset-item>
            <a-asset-item id="tv" src="/assets/models/flat_screen/scene.gltf"></a-asset-item>
            <img id="settings" src="assets/images/settings_shot.jpg">
        </a-assets>

        <!--a-camera-->
		<a-camera position="-4 10 10">
			<a-entity cursor position="0 0 -1"
					  geometry="primitive: sphere; radius: 0.005"
					  material="color: #ff0000; shader: flat; opacity: 1">
			</a-entity>
		</a-camera>

        <!--a-sky-->
        <a-sky src="#sky"
                animation="property: rotation;
                        to: 0 360 0;
                        repeat: indefinite;
                        dur: 100000;
                        easing: linear;
                        loop: true;">
        </a-sky>

        <!--ground-->
        <a-plane src="#marble"
                    rotation="-90 0 0"
                    scale="500 500"
                    repeat="5 5">
        </a-plane>

        <a-text value="What are game settings?"
                color="#000000"
                position="-2.5 25 -10"
                scale="6 6"
                align="center"
                anchor="center">
        </a-text>
        <a-text value="It is important for game settings to be adjusted in order to balance between visual quality and performance. Game settings allow more heavy-weight games to be run on lower-end machines by reducing certain properties, thus sacrificing some visual quality, but allowing more resources to be dedicated to performance."
                color="#000000"
                position="-2.5 22.5 -10"
                scale="6 6"
                align="center"
                anchor="center"
                wrap-count="70">
        </a-text>
        
        <a-image src="#settings" position="-21 13 -5.3" rotation="0 20 0" width="11" height="10"></a-image>

        <a-entity gltf-model="#unit"
                    scale="15 15 15"
                    position="-13 0 -7">
        </a-entity>

        <a-entity gltf-model="#tv"
                    scale="10 10 10"
                    position="-2.5 13 -10">
            <a-video src="#cinematic"
                        position="0 0.03 0"
                        width="1.97"
                        height="1.13">
                <!-- play-pause -->
                <a-image id="playControls" src="#play" position="-0.1 -0.5 0.02" scale="0.09 0.09 0.09" play-pause></a-image>
                <a-text id="controlsText"
                        value="PLAY"
                        position="-0.05 -0.5 0.02"
                        color="#ffffff"
                        scale="0.3 0.3 0.3">
                </a-text>
            </a-video>
        </a-entity>

        <a-text value="Click on the play button to play the video"
                color="#000000"
                position="-2.5 20 -10"
                scale="5 5"
                align="center"
                anchor="center">
        </a-text>

        <!--logo inside primitive box shape-->
        <a-box material="src: #logo; alpha-test: 1" position="17 3.5 -10" scale="7 7 7"
                animation="property: rotation;
                to: 0 360 0;
                repeat: indefinite;
                dur: 10000;
                easing: linear;
                loop: true;">
        </a-box>

        <!--lights-->
        <a-light type="point" color="#fe3939" position="-30 25 -10" rotation="-35 -90 90">
        </a-light>

        <a-light type="point" color="#4df3ff" position="30 25 -10" rotation="-35 90 -90">
        </a-light>

        <a-light type="point" color="#e294ff" position="-4 6 30" rotation="0 0 -90">
        </a-light>
    </a-scene>
</body>
</html>
